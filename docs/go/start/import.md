# 包管理

每个 go 程序都由包构成，一般以包为单位进行运行，一个包中只能有一个 main 函数。

## init 函数

package 以递归的形式导入，init() 相当于 return 语句回溯到上一级调用，一般用来初始化包内参数。

![20140511222515968](/img/20140511222515968.jpeg)

通过上面的介绍我们了解了 import 的时候其实是执行了该包里面的 init 函数，初始化了里面的变量，\_操作只是说该包引入了，只初始化里面的 init 函数和一些变量，不能通过包名来调用其它的函数，这有什么用呢？往往这些 init 函数里面是注册自己包里面的引擎，让外部可以方便的使用，就很多实现 database/sql 的引起，在 init 函数里面都是调用了 sql.Register(name string, driver driver.Driver)注册自己，然后外部就可以使用了。

## 导包的三种方法

##### 常用方式

```go
import (
	"fmt"
)
```

##### 匿名导入

表示导入这个包，执行导入包中的 `init()` 但是不引用该包中的元素。

```go
import (
	_ "fmt"
)
```

##### 别名 import

可直接用 `f` 代替 `fmt` 的包名调用包中对外的函数

```go
import (
	f "fmt"
)
```

##### 嵌入式导入（谨慎使用）

相当于 `fmt` 中的代码直接导入当前包，可直接使用 `fmt` 中的函数，无需前缀。多个嵌入式导入容易产生变量名重复错误。

```go
import (
	. "fmt"
)
```
