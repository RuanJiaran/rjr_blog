import{_ as n,o as s,c as a,a as t}from"./app.86304890.js";const e="/rjr_blog/img/1655710860948-5a164bf3-8df0-4b42-8b0b-508b96ded50b.png",p={},o=t(`<h1 id="\u7ED3\u6784\u4F53-struct" tabindex="-1"><a class="header-anchor" href="#\u7ED3\u6784\u4F53-struct" aria-hidden="true">#</a> \u7ED3\u6784\u4F53\uFF08struct\uFF09</h1><p>\u7ED3\u6784\u4F53\u5B9A\u4E49\u9700\u8981\u4F7F\u7528 type \u548C struct \u8BED\u53E5\u3002struct \u8BED\u53E5\u5B9A\u4E49\u4E00\u4E2A\u65B0\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u7ED3\u6784\u4F53\u4E2D\u6709\u4E00\u4E2A\u6216\u591A\u4E2A\u6210\u5458\u3002type \u8BED\u53E5\u8BBE\u5B9A\u4E86\u7ED3\u6784\u4F53\u7684\u540D\u79F0\u3002</p><h2 id="\u5B9A\u4E49\u7ED3\u6784\u4F53" tabindex="-1"><a class="header-anchor" href="#\u5B9A\u4E49\u7ED3\u6784\u4F53" aria-hidden="true">#</a> \u5B9A\u4E49\u7ED3\u6784\u4F53</h2><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> Books <span class="token keyword">struct</span> <span class="token punctuation">{</span>
   title <span class="token builtin">string</span>
   auth <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u793A\u4F8B 1</strong></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> Book <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	title <span class="token builtin">string</span>
	auth  <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u793A\u4F8B1</span>
	b1 <span class="token operator">:=</span> Book<span class="token punctuation">{</span>title<span class="token punctuation">:</span> <span class="token string">&quot;go&quot;</span><span class="token punctuation">,</span> auth<span class="token punctuation">:</span> <span class="token string">&quot;\u83DC\u9E1F&quot;</span><span class="token punctuation">}</span> <span class="token comment">// {title:go auth:\u83DC\u9E1F}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%+v&quot;</span><span class="token punctuation">,</span> b1<span class="token punctuation">)</span>

    <span class="token comment">// \u793A\u4F8B2</span>
	b2 <span class="token operator">:=</span> Book<span class="token punctuation">{</span><span class="token string">&quot;php&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;\u83DC\u9E1F&quot;</span><span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%+v&quot;</span><span class="token punctuation">,</span> b2<span class="token punctuation">)</span>  				<span class="token comment">// {title:php auth:\u83DC\u9E1F}</span>

    <span class="token comment">// \u793A\u4F8B3</span>
	<span class="token keyword">var</span> b3 Book
	b3<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;js&quot;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%+v&quot;</span><span class="token punctuation">,</span> b3<span class="token punctuation">)</span>  				<span class="token comment">// {title:js auth:}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5FFD\u7565\u7684\u5B57\u6BB5\u4E3A 0 \u6216 \u7A7A</p><p><strong>\u793A\u4F8B 2</strong></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token comment">// \u7ED3\u6784\u4F53\u521B\u5EFA</span>
<span class="token keyword">type</span> Employee <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    ID        <span class="token builtin">int</span>
    Name      <span class="token builtin">string</span>
    Address   <span class="token builtin">string</span>
    DoB       time<span class="token punctuation">.</span>Time
    Position  <span class="token builtin">string</span>
    Salary    <span class="token builtin">int</span>
    ManagerID <span class="token builtin">int</span>
<span class="token punctuation">}</span>



<span class="token comment">// \u7ED3\u6784\u4F53\u8BBF\u95EE</span>
<span class="token keyword">var</span> dilbert Employee
dilbert<span class="token punctuation">.</span>Salary <span class="token operator">-=</span> <span class="token number">5000</span>
<span class="token keyword">var</span> employeeOfTheMonth <span class="token operator">*</span>Employee <span class="token operator">=</span> <span class="token operator">&amp;</span>dilbert
employeeOfTheMonth<span class="token punctuation">.</span>Position <span class="token operator">+=</span> <span class="token string">&quot; (proactive team player)&quot;</span>
<span class="token comment">// \u7B49\u4EF7\u4E8E (*employeeOfTheMonth).Position += &quot; (proactive team player)&quot;</span>

<span class="token comment">// \u521D\u59CB\u5316</span>
<span class="token keyword">type</span> Point <span class="token keyword">struct</span><span class="token punctuation">{</span> X<span class="token punctuation">,</span> Y <span class="token builtin">int</span> <span class="token punctuation">}</span>
p <span class="token operator">:=</span> Point<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span> 	<span class="token comment">// \u65B9\u5F0F1</span>
p <span class="token operator">:=</span> Point<span class="token punctuation">{</span>Y<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span> 	<span class="token comment">// \u65B9\u5F0F2\uFF0CX\u81EA\u52A8\u4E3A0\u503C</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u533F\u540D\u6210\u5458" tabindex="-1"><a class="header-anchor" href="#\u533F\u540D\u6210\u5458" aria-hidden="true">#</a> \u533F\u540D\u6210\u5458</h2><p>\u53EA\u58F0\u660E\u4E00\u4E2A\u6210\u5458\u5BF9\u5E94\u7684\u6570\u636E\u7C7B\u578B\u800C\u4E0D\u6307\u540D\u6210\u5458\u7684\u540D\u5B57\uFF1B\u8FD9\u7C7B\u6210\u5458\u5C31\u53EB\u533F\u540D\u6210\u5458\u3002\u533F\u540D\u6210\u5458\u7684\u6570\u636E\u7C7B\u578B\u5FC5\u987B\u662F\u547D\u540D\u7684\u7C7B\u578B\u6216\u6307\u5411\u4E00\u4E2A\u547D\u540D\u7684\u7C7B\u578B\u7684\u6307\u9488\u3002\u4E0B\u9762\u7684\u4EE3\u7801\u4E2D\uFF0CCircle \u548C Wheel \u5404\u81EA\u90FD\u6709\u4E00\u4E2A\u533F\u540D\u6210\u5458\u3002\u6211\u4EEC\u53EF\u4EE5\u8BF4 Point \u7C7B\u578B\u88AB\u5D4C\u5165\u5230\u4E86 Circle \u7ED3\u6784\u4F53\uFF0C\u540C\u65F6 Circle \u7C7B\u578B\u88AB\u5D4C\u5165\u5230\u4E86 Wheel \u7ED3\u6784\u4F53\u3002</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> Point <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    X<span class="token punctuation">,</span> Y <span class="token builtin">int</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Circle <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Point
    Radius <span class="token builtin">int</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Wheel <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Circle
    Spokes <span class="token builtin">int</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5F97\u76CA\u4E8E\u533F\u540D\u5D4C\u5165\u7684\u7279\u6027\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u8BBF\u95EE\u53F6\u5B50\u5C5E\u6027\u800C\u4E0D\u9700\u8981\u7ED9\u51FA\u5B8C\u6574\u7684\u8DEF\u5F84</span>
<span class="token keyword">var</span> w Wheel
w<span class="token punctuation">.</span>X <span class="token operator">=</span> <span class="token number">8</span>            <span class="token comment">// equivalent to w.Circle.Point.X = 8</span>
w<span class="token punctuation">.</span>Y <span class="token operator">=</span> <span class="token number">8</span>            <span class="token comment">// equivalent to w.Circle.Point.Y = 8</span>
w<span class="token punctuation">.</span>Radius <span class="token operator">=</span> <span class="token number">5</span>       <span class="token comment">// equivalent to w.Circle.Radius = 5</span>
w<span class="token punctuation">.</span>Spokes <span class="token operator">=</span> <span class="token number">20</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u7A7A\u7ED3\u6784\u4F53" tabindex="-1"><a class="header-anchor" href="#\u7A7A\u7ED3\u6784\u4F53" aria-hidden="true">#</a> \u7A7A\u7ED3\u6784\u4F53</h2><p>\u5C31\u662F\u5185\u5BB9\u4E3A\u7A7A\u7684\u7ED3\u6784\u4F53\uFF0C\u4E3E\u4F8B\uFF1A</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> cat <span class="token keyword">struct</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u7A7A\u7ED3\u6784\u4F53\u5927\u5C0F\u662F\u591A\u5C11\uFF1F\u5982\u4F55\u5B58\u50A8\uFF1F</strong></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>
<span class="token keyword">type</span> cat <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c0<span class="token punctuation">,</span> c1 <span class="token operator">:=</span> cat<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> cat<span class="token punctuation">{</span><span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span>c0<span class="token punctuation">)</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%p\\n%p\\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>c0<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c1<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD0\u884C\u7ED3\u679C\uFF1A</p><p><img src="`+e+`" alt="image.png"></p><p>\u8BF4\u660E\u7A7A\u7ED3\u6784\u4F53\u5927\u5C0F\u4E3A 0\uFF0C\u4E14\u7EDF\u4E00\u4F7F\u7528\u4E00\u4E2A\u5730\u5740\u3002\u4E8B\u5B9E\u4E0A\uFF0C\u6240\u6709\u5927\u5C0F\u4E3A 0 \u7684\u53D8\u91CF\u7684\u5730\u5740\u90FD\u4E3A\u540C\u4E00\u4E2A\uFF0C\u5373 <code>runtime/malloc.go</code>\u4E2D\u7684\uFF1A</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token comment">// base address for all 0-byte allocations</span>
<span class="token keyword">var</span> zerobase <span class="token builtin">uintptr</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u7A7A\u7ED3\u6784\u4F53\u4EC0\u4E48\u65F6\u5019\u4F7F\u7528\uFF1F</strong></p><p>\u7A7A\u7ED3\u6784\u4F53\u7684\u4E3B\u8981\u7528\u9014\u4E3A\u8282\u7EA6\u7A7A\u95F4\uFF0C\u6BD4\u5982\u7528 go map \u5B9E\u73B0\u4E00\u4E2A\u7C7B\u4F3C set \u7684\u7ED3\u6784\uFF08go \u6CA1\u6709 set\uFF09\uFF1A</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>m <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
m<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> m<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7A7A\u7ED3\u6784\u4F53\u4EFB\u4F55\u65F6\u5019\u5730\u5740\u90FD\u662F zerobase \u5417\uFF1F</p><p>\u4E0D\u662F\u7684\uFF0C\u7A7A\u7ED3\u6784\u4F53\u5982\u679C\u4F5C\u4E3A\u7ED3\u6784\u4F53\u6210\u5458\uFF0C\u5730\u5740\u8DDF\u968F\u5176\u4ED6\u7684\u5144\u5F1F\u6210\u5458\u3002</p>`,26),i=[o];function c(l,u){return s(),a("div",null,i)}const d=n(p,[["render",c],["__file","struct.html.vue"]]);export{d as default};
